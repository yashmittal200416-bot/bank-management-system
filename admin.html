<!DOCTYPE html>
<html>
<head>
<title>Admin | Bank Management</title>
<style>
body{margin:0;font-family:Segoe UI;background:linear-gradient(to right,#ffe8db,#dfe8ff);}
header,footer{background:#3d43ff;color:rgb(221, 200, 200);text-align:center;padding:15px;}
nav{background:#232323;padding:12px;}
nav ul{list-style:none;display:flex;justify-content:center;gap:35px;margin:0;}
nav ul li a{color:white;text-decoration:none;font-size:18px;font-weight:600;}
nav ul li a:hover{color:#3d43ff;}
.box{width:450px;margin:70px auto;background:rgba(255,255,255,0.7);padding:30px;border-radius:15px;text-align:center;}
.box h2{color:#3d43ff;}
button{width:100%;margin:10px 0;background:#3d43ff;color:white;border:none;padding:12px;border-radius:8px;font-size:17px;}
button:hover{background:#3d43ff;}
</style>
</head>

<body>
<header>Bank Management System</header>

<nav>
<ul>
<li><a href="home.html">Home</a></li>
<li><a href="openaccount.html">Open Account</a></li>
<li><a href="deposit.html">Deposit</a></li>
<li><a href="withdraw.html">Withdraw</a></li>
<li><a href="enquiry.html">Enquiry</a></li>
<li><a href="contact.html">Contact</a></li>
<li><a href="admin.html">Admin</a></li>
</ul>
</nav>

<div class="box">
    <h2>Admin – Manage Accounts</h2>

    <button onclick="showAccounts()">Show All Accounts</button>

    <br><br>

    <input id="delAcc" placeholder="Enter Account Number to Delete">
    <button onclick="deleteAccount()" style="background:red;">Delete Account</button>

    <p id="msg"></p>

    <table border="1" width="100%" style="margin-top:15px; color:rgb(0, 0, 0);">
        <thead>
            <tr>
                <th>Account No</th>
                <th>Name</th>
                <th>Mobile</th>
                <th>Balance</th>
            </tr>
        </thead>
        <tbody id="data"></tbody>
    </table>
</div>

<script>
function showAccounts() {
    let table = document.getElementById("data");
    table.innerHTML = "";

    let found = false;

    for(let i=0; i<localStorage.length; i++){
        let key = localStorage.key(i);

        if(key === "lastAcc") continue;

        let acc = JSON.parse(localStorage.getItem(key));

        table.innerHTML += `
        <tr>
            <td>${acc.accNo}</td>
            <td>${acc.name}</td>
            <td>${acc.mobile}</td>
            <td>₹${acc.balance}</td>
        </tr>`;
        found = true;
    }

    if(!found){
        table.innerHTML =
          "<tr><td colspan='4'>No accounts found</td></tr>";
    }
}

function deleteAccount() {
    let accNo = document.getElementById("delAcc").value;

    if(accNo == ""){
        alert("Enter account number");
        return;
    }

    if(localStorage.getItem(accNo) == null){
        alert("Account not found");
        return;
    }

    let confirmDelete = confirm(
        "Are you sure you want to delete account " + accNo + "?"
    );

    if(confirmDelete){
        localStorage.removeItem(accNo);
        document.getElementById("msg").innerText =
            "❌ Account Deleted Successfully";

        showAccounts();
    }
}
</script>


<footer>© 2025 Bank Management</footer>
</body>
</html>
